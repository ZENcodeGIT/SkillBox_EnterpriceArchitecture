# SkillBox_EnterpriceArchitecture
Final Task of SkillBox_EnterpriceArchitecture

## 1. Детализация и чёткое прописывание бизнес-целей. 

---
1.	Популяризация и продвижение своей продукции через социальные и игровые методики
2.	Повышение продаж продукции за счет узнаваемости бренда и привлечения новых клентов 
3.	Повышение информирования клиентов о новых продуктах, используя новые информационные каналы
4.	Повышение вовлеченности клиентов в спортивный образ жизни и популяризация спорта  
   
---

## 2. Анализ и список функциональных требований.

---
1.	Реализация социального сервиса: возможность создания групп по интересам, создание постов, система оценок, перепоста, комментариев, проведение совместных тренировок, проведение соревнований  
2.	Возможость ведения хронологии тренировок по пользователям, фиксировать и показывать изменения, реализовать возможность доступа других участников к своим результатам (при разрешении от автора), визуализация отаржения изменения показателей пользователя
3.	Реализовать поиск людей по схожим интересам, по близкой геолокации, реализовать возможность формирования групп с возможостью общения
4.	Реализовать для пользователей возможность указания своего спортивного инвентаря (обувь, снаряды).  Реализовать систему подсказок по составлению тренировок, а также своевременному обновлению инвентаря. 
5.	На основании данных из ЛК составлять и  предлагать тренировки и их расписания (возможно использование AI). 
6.	Система уведомлений "друзей" о положительных результатах.
7.	Реализация геймификации: добавление игровых персоанажей, система поощрений в виде виртуальных подарков  
8.	Добавление новостной ленты (интеграция с новостным каналом), внедрение промоакций. Данные мероприятия реализовать в зависимости от интенсивности тренировок
9.	Реализовать возможность подключения сторонних устройств для отслеживания тренировок (датчик сердцебиения, кислорода и так далее)
10.	Для возможности интеграции существующих приложений компании обеспечить возможность интеграции REST/API 
11.	Реализовать возможность настройки промоакций в зависимости от геолокации
12.	Реализовать мультиязычность
13.	Обеспечить поддержку по всему миру (поддержка геолокаций всех стран)
14.	Реализовать поддержку многопользовательского режима поддержки функций сравнений (возможно количество участников до 5000)

---

## 3. Анализ стейкхолдеров и их интересов.

---
1.	Клиент: удобный функциональный сервис для занятия спортом, мотивации к спорту, возможностью приобретения, удобный интерфейс, бесперебойная работа, возможность коммуникаций, защита персональных данных
2.	Руководство/Собственник: обеспечить привлечение и заинтересованность клиентской базы за счет реализации новых треобваний, повышение продаж, повышение CSI
3.	Заказчик в компании (маркетинг): повысить количество пользователей, повысить удовлетворенность пользователей, обеспечить возвращаемость клиентов, увеличить время нахождения в приложении, увеличить продажи
4.	ИТ отдел (внедрение, поддержка в случае внешних исполнителей)

---

## 4. Разработка концептуальной архитектуры.

---
См. файл

---

## 5. Описание рисков реализации (бизнес и технические).

---
1.	Бизнес риск: Весь функционал находится в облачном хранилище - если провайдер не успевает реагировать на нагрузку, либо падает сервис, бизнес понесет убытки. ОБлачное хранилище должно быть на территории РФ из-за санкционных рисков.
2.	Бизнес риск: Новый функциоанал может вызвать негативные реакцию. Для нивелирования данного риска необходимо обеспечить тестирование на определнных группах (конореечное, АВ и т.п.) 
3.	Тех риск: Отсутствует катастрофоустойчивость. Для нижения риска можно предусмотреть хранение бекапов в более безопасном месте (хранилище, копирование бекапов периодическое в другой ЦОД) 
4.	Тех риск: Риски нагрузки на существующий функционал в связи с новыми сервисами: в случае кратного увеличения трафика, необходимо оценить емкость текущего железа/лицензий/пр_способности на случай возрастания трафика кратно
5.	Тех риск: Дополнительные требования к сохранению персональных данных в связи с данными социальной активности: появлене дополнителных персонафицированных данных - размеры тела, достижения, физические характеритиски и т.п.
6.	Тех риск: Отсутствие автоматического мониторинга: пока не предусмоттен автоматическое развертывание сервисов в случае повышения нагрузки (данный этап на развитие, после получения положительного результата пилота)

---

## 6. План поэтапной разработки и расширения системы, анализ критически важных компонентов. 

---
1. Выделяем относительно нетрудоемкий функционал для пилота приложения: сервис с регистрацией, отоброжение новостей, погода, общение с пользователями, рекомендации по тренировкам, простой дневник ведения результатов спортивных достижений, инетграция с датчиками движения (пульс. шагомер, трекер и т.п.) 
2.	Подготавливаем ландшафт для микросервисоной архитектуры: внедрение API Gateway - Реализовываем возможность направления трафика на разные сервисы в зависимости от геолокации, либо других параметров (для акций по регионам, канареечного тестирования и тп.)
3.	Для гибкой работы с микросервисами с помощью контейнеризации разворачиваем Docker/K8s 
4.	Фиксируем функуиональные требования отдельно по каждому микросервису (новости/погода, личный кабинет, спортивные рекомендации, работа с IoT)
5. Под каждый сервис фиксируем технологический (приложение. бд) стек и начинаем разработку
6.	По мере готовности проводим А/В, конореечное тетсирование с замерами обратной связи от пользователей
7.	Внедряем системы мониторинга и наблюдамеости
8.	Масшатбируем решение по мере появления новых пользователей
9.	разработываем road-map далоьнейшего развития в зависимости от полученных результатов по пилоту

---

## 7. Выделение критических бизнес-сценариев.

---
1.	Трекинг с историей маршрута на карте (бег), фиксация результатов тренировки клиента (пульс, кол-во повторений, вес и т.п.)
2.	Рекомендации по программа тренировок в зависимоти от входных параметров (время для тренировок, возраст, состояние здоровья)
3.	Установление целей по тренировкам, визуализация статуса по достижению целей
4.	Возможность организации соревнований (виртуальных), возможность присоединения к другим соревнованиям
5.	Возможность делиться своими результатами с другими участниками, выкладывание постов в социальные сети
6.	Получение информации со смежных устройств при физической активности (пульс, температура, километраж и т.п.)
7.	Возможность покупки рекомендованного товара из приложения (рекомендации по сроку использования, либо же рекомендации свзанные с предлагемы курсом тренировок)

---

## 8. Атрибуты качества (выделить основные, например: наблюдаемость и ).


---
1.	Наблюдаемость: метрики покупок, входа на сайт клиентов, количество постов и т.п.
2.	Мониторинг: кол-во свободного места и памяти, нагрузка процессора, кол-во трафика
3.	Безопасность: шифрование трафика (https), двухфактораня аутентификация, хранилище у провайдера по требованиям с учетом ПерсДанных
4.	Надежность: стабильность (кол-во отказов системы за единцы времени), восстанавливаемость (время необходимое на восстановление), отказоустойчивость
5.	Быстродействие: время реакции на действия пользователей, время выполнения операций
6.	Сопровождаемость: изменяемость (скорость внесения изменений, скорость накатки обновлений), кол-во сотрудников поддержки, тестируемость (затраты на тест)

---

## 9. Анализ и список нефункциональных требований.

---
1. Скорость реагирования в дескотпных версиях на действия пользователя не более 0,5 сек (при сеть 100мбит), в мобильных версиях не более 1 сек (в сети 3G)
2.	Обеспечить безопасность персональных данных: шифрование данных при передаче в интернет (https), шифрование SSL при взаимодейчтвии с сервером, двухфакторная аутентификация
3.	Отказоустойчивость 99%
4.	Работа мобильных приложений в ОС  Android 7.0 – 12.0/ iOS 9.0- 16.0
5. Предусмотреть возможность горизонтального масштабирования системы без доработок кода (время не машстабирование не более 12 часов) в случае резккой аквтиности пользователей
6. Предусмотреть возможность интеграций сервисов по технологии REST/API
7. Реализация сбора и хранения логов по действиям в системе пользователей с хранением до 5 лет (с охлаждение данных, во избежание влияние на действующий функционал)
8. Обеспечить возможность создания нового функционала для проведения десятков проверок A/B гипотез в день (короткоживущий или локальный гибкий функционал) 

---

## 10. Анализ и описание архитектурных опций и обоснование выбора. 

---
Выбор архитектуры
Прдлагается к реалиазации микросервисная архитектура по следующим причинам:
1) высокая скорость разработки - паралельно команды могут разрабатывать несколько сервисов (высокий TimeToMarket, важный параметр в конкурентной борьбе0
2) высокая скорость внесения изменений (доработки) - за счет малой связности есть возможность оперативного изменения функциоанала для пользователей и возможности тестирования
3) высокая гибкость и масштабирование  - быстрая реакция на потребности рынка
4) потребность в поддержке микросервисной архитектуры, в связи с трудоемкостью (команда разработчиков уже в штате)


Дополнительно:
1.	Реализация зоны DMZ: для обеспения безопасности от внешних воздействий
2.	Использование API Gateway: облегчение поддержки, возможность тестирования ограниченным трафиком, уменьшение трудозатрат при дальнейшем развитии
3.	Использование облачных провайдеров: перекладыване функций бекапирования, развертывания инфраструктуры, мониторинга на вендора
4.	Обновление данных в распределенной архитектуре по шабону SAGA - по причине оперативности и надежности

Технологии:
1. В связи с трудностью прогнозирования роста базы пользователей рекомендутеся вынеение сервисов в облака (AWS, S3 и тп)
2. Веб-сервер: Apache (веб-сервер с открытым исходным кодом) / NginX (имеет преимущество перед Apache, поскольку он служит веб-сервером и прокси-сервером. Подход, управляемый событиями, который обрабатывает тысячи запросов в одном потоке, обеспечивает более высокую производительность, скорость и экономическую эффективност)
3. Приложение: Java (требует значительного объема памяти. Из-за абстракции JVM программы также работают медленнее, позволяет писать код и запускать его на любой платформе с использованием среды виртуальной машины Java (JVM))/ Python (динамически типизированный язык очень гибок и подходит для небольших и крупных проектов веб-приложений, а также для различных сегментов, таких как мобильные приложения, видеоигры, программирование искусственного интеллекта и т. д.)
4. API: RESTful API - API передачи репрезентативного состояния в облегченном формате JSON. Он хорошо масштабируем, надежен и обеспечивает высокую производительность, что делает его самым популярным API.
5. DataBase: PostgreSQL - реляционная, Prometheus  - бд временных рядов для данных с устройств IoT

---
